<h2>Changement d'état d'un matériel</h2>
<p-table [value]="materiels" selectionMode="single" [(selection)]="selectedMateriel">
  <ng-template pTemplate="header">
    <tr>
      <th>Nature</th>
      <th>Modèle</th>
      <th>État actuel</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-mat>
    <tr [pSelectableRow]="mat">
      <td>{{ mat.nature }}</td>
      <td>{{ mat.model }}</td>
      <td>{{ mat.statusLabel }}</td>
    </tr>
  </ng-template>
</p-table>

<p-dropdown [options]="etats" optionLabel="libelle" [(ngModel)]="selectedEtat" placeholder="Sélectionner un nouvel état"></p-dropdown>

<button pButton label="Changer l'état" (click)="changerEtat()" [disabled]="!selectedMateriel || !selectedEtat"></button> 